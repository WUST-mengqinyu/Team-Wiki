评分2500+版切，代码见提交

### 269C *2500

给了一张网络流图，但图只有流量没有方向，还原出图上每条边的方向。

构造题，维护每个点的in,out，从S点开始BFS，把当前点没有使用过的边全部用于出方向，更新in[v]+=cap,out[v]-=cap，当in[v]==out[v]时把v加入队列（但是不要把T点加入队列）



### 1146G *2600

在一条路上有标号为1-n的n座房子，每座房子最高为h，若一座房子的高度为x，则这座房子的收益为x*x；有m条限制，每条限制表示如果在l-r之间的所有房子的最大高度超过hi，则罚款ci。问所有房子的最大收益是多少。

最小割模型，先假设总收益为`n*h*h`，对每个房子的建0-h共h+1个点，S向0连边，流量为inf，i向i+1连边，流量为`h*h-i*i`，割掉这条边表示取这个高度的收益；每个限制作为一个点，向汇点连边，流量为罚款c[i]，被割表示需要支付罚款；l,r之间的房子每个表示高度`h[i]+1`向该限制连边，流量为inf，最后的答案为`n*h*h-max_flow(S，T)`