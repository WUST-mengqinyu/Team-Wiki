| Name                                                         | Date       | solved | A    | B    | C    | D    | E    | F    | G    | H    | I    | J    | K    |
| ------------------------------------------------------------ | ---------- | ------ | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| [2019 ICPC Asia Nanjing Regional Contest](https://www.jisuanke.com/contest/5528?view=challenges) | 2019/10/27 | 6      | O    | .    | O    | .    | .    | O    | .    | Ø    | .    | Ø    | O    |

## A. A Hard Problem

给定一个正整数n，找到一个正整数k, 使对于{1, 2, 3, ..., n} 的所有大小为k的子集中都至少存在一组数(u,v)，使u能被v整除。

最大的两两不互为因子的情况是取大于等于\(\lceil {n \over 2}\rceil\)的所有数，这种情况下再取一个数，一定是某原集合中某一个数的1/2，答案是\(\lceil {n \over 2}\rceil + 1\)

## C. Digital Path

给一个n×m的矩阵，矩阵内值的大小为[-10^7,10^7]。其中一条合法的路径需要满足以下要求：相邻两步的格子之间有边相邻，且当前格子数值为上一步+1，并且不能继续扩展。问该矩阵中有多少条合法路径。

`dp[i][j][k]`表示i行j列的点有多少条以它结束的路径，k表示路径的长度为2,3, >=4的路径种类，每次向四周更新扩展，如果都不能扩展表示路径以它为结尾，记录答案。




## F. Paper Grading

对序列和交换操作分块，当操作达到块大小时rebuild即可，序列的块内使用字典树维护即可。操作不到块大小时单独计算swap后的增量和减量的贡献即可。复杂度$O(nsqrt(n))$

正解好像是hash+二维数点，复杂度$O(nlog^2(n))$



## H. Prince and Princess

王子想向公主求婚。宫中有三类人，以公主为首赞成婚礼的人，反对婚礼的人，不关心的人，他们的人数为a，b，c(a>0, b,c≥0)。王子知道三类人的数量，这些人分别呆在各自的房间，王子可以向房间内的人提以下三类问题：

1. 你是谁
2. 在X房间内的人是谁
3. 公主在哪个房间

所有人都会回答问题，但赞成婚礼的人会告诉他正确的答案，反对婚礼的人会告诉他错误的答案，不关心的人会随机给出回答。王子要至少问几个问题，才能找到公主所在的房间。如果找不到，输出-1.

最坏情况下把c看做b，如果b+c>a，那么王子没有办法找到公主。否则问2*(b+c)+1个人“公主在哪个房间”就能找到公主。

特判1,0,0为0，因为只有一个房间，这个房间里面一定是公主。

## J. Spy

A,B各有n支队，其中A的队伍能力值已经确定。B有两类人，要把一类人和另一类人搭配，能力值为两者的能力值之和。搭配完后将A,B的队伍随机排列对战，如果A的第i个队伍能力值小于B和它对战的队伍，则B可以获得分数val[i]。输出组队后B的最大得分的期望×n。

对期望式子化简之后就是裸的二分图最大权匹配，B的a[i]和b[j]连边的边权为\(\sum_{k=1}^n{a[i]+b[j]>c[k]?val[k]:0}\)。这题卡了KMdfs板子。

## K. Triangle

给了三角形三个点的坐标和点P，要求找一个点Q，使线段PQ平分三角形的面积，P,Q都在三角形边上。

二分100次可过，直接算的话用sin会卡精度，式子里面sin可以化简掉，推出来的答案值也是可以过的。

