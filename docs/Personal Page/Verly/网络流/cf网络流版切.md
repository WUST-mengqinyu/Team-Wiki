[links](https://codeforces.com/problemset?order=BY_RATING_ASC&tags=flows%2C2500-)

评分2500+版切，代码见提交

## 269C *2500

给了一张网络流图，但图只有流量没有方向，还原出图上每条边的方向。

构造题，维护每个点的in,out，从S点开始BFS，把当前点没有使用过的边全部用于出方向，更新in[v]+=cap,out[v]-=cap，当in[v]==out[v]时把v加入队列（但是不要把T点加入队列）

## 808F *2500

给了n张卡牌，需要的力量之和为k。卡牌的力量为p[i]，数字为c[i]，等级为l[i]。当等级小于l[i]时无法使用这张卡牌；如果有两张卡牌的数字之和为素数，则不能同时选取这两张卡牌。问最少要达到几级才能选出力量之和大于等于k的合法牌组。

除了1+1之外剩下的两数之和为素数的情况一定是奇数+偶数，1只取合法的最大一个值，构建一个二分图求最小割，总值-最小割即为当前可以构建的最大值，二分等级即可求解。

## 884F *2500

给了一个长度为n(偶数)的串s，求原串的一个排列p使`a[i]!=a[n-i+1]`，如果s[i]=p[i]则获得第i位的价值b[i]，求满足条件的最大价值。

费用流跑一下，n/2个点，第i个表示p[i]和p[n-i+1]，每个小写字母建一个点向它连流量为1的边，如果字母为s[i]或s[n-i+1]就加上边权（相等则加上较大的），跑费用流即可。

## 1009G *2500

给一个字符串，重排字符串使其满足限制（第i位只能是某个指定的字符集），使字典序最小。

贪心的选择每个字符串并使其后面的字符满足二分图完美匹配，也就是遵循hall定理，状压check一下每一位的选择。

……不是特别懂，我再想想

## 628F *2500

集合中有n个数(n是5的倍数)，最大的数字不超过b，有q个限制(x,y)，表示1-x中一共有y个数，集合中模5为0,1,2,3,4的数的个数相等，问这样的集合是否存在。

对每个限制建点，向代表模数为0,1,2,3,4的点连流量为区间内个数的边，判断`max_flow(S,T)==n`即可。

## 78E *2500

无聊的码农题……主要码量在于判断每个时刻点之间可不可达，傻逼dfs，建图就是sb建图，没劲



## 1146G *2600

在一条路上有标号为1-n的n座房子，每座房子最高为h，若一座房子的高度为x，则这座房子的收益为x*x；有m条限制，每条限制表示如果在l-r之间的所有房子的最大高度超过hi，则罚款ci。问所有房子的最大收益是多少。

最小割模型，先假设总收益为`n*h*h`，对每个房子的建0-h共h+1个点，S向0连边，流量为inf，i向i+1连边，流量为`h*h-i*i`，割掉这条边表示取这个高度的收益；每个限制作为一个点，向汇点连边，流量为罚款c[i]，被割表示需要支付罚款；l,r之间的房子每个表示高度`h[i]+1`向该限制连边，流量为inf，最后的答案为`n*h*h-max_flow(S，T)`

